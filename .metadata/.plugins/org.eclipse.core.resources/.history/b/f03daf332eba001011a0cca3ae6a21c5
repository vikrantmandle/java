package com.app.basic.streams.revision;

import java.util.Arrays;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.stream.Collectors;

import com.app.java.streams.prep.Employee;
import com.app.java.streams.prep.Transaction;

public class Day1 {
	
	static void problem1() {
		List<String>names= Arrays.asList("Virat", "Rohit", "Rahul", "Rishabh", "Bumrah", "Ishan");
		
		List<String>sortedNames=names.stream().filter(n->n.startsWith("R")).sorted().collect(Collectors.toList());
	
		sortedNames.forEach(System.out::println);
	}
	
	static void problem2() {
		List<Integer> numbers= Arrays.asList(2, 3, 4, 5);
		int squaredNums=numbers.stream().map(n->n*n).reduce(0,(a,b)->a+b);
		
		System.out.println("squaredNums=>"+squaredNums);
	}
	
	static void problem3() {
		List<String> uniqueFruits= Arrays.asList("apple", "banana", "apple", "orange", "banana", "grape");
		Set<String>fruits= new HashSet<>(uniqueFruits);
		
		Long countOfUniqueFruits=uniqueFruits.stream().distinct().count();
		
		System.out.println("Count of unique fruits=>"+countOfUniqueFruits);
		
		fruits.forEach(System.out::println);
	}
	
	static void problem4() {
		List<Employee> employeData= Arrays.asList(new Employee(1, "Harsh", 20000),
				 new Employee(1, "Sadhana", 50000),
				 new Employee(1, "Aarav", 60000),
				 new Employee(1, "Justin", 70000),
				 new Employee(1, "Ruhi", 45000));
		
		List<String>names=employeData.stream().filter(n->n.getSalary()>50000).map(Employee::getName).collect(Collectors.toList());
	
	names.forEach(System.out::println);
	}
	
	static void problem5() {
		List<Transaction> transactions = List.of(
			    new Transaction("GROCERY", 2000),
			    new Transaction("ELECTRONICS", 8000),
			    new Transaction("GROCERY", 1500),
			    new Transaction("CLOTHING", 4000)
			);
		Map<String,Integer> transactionData=transactions.stream().
				collect(Collectors.groupingBy(Transaction::getCategory,Collectors.summingInt(Transaction::getBudget)));
	
		transactionData.forEach((a,b)->System.out.println(a+b));
	}
	
	public static void main(String [] args) {
		problem1();
		System.out.println("---------------------");
		problem2();
		problem3();
		problem4();
		problem5();
	}

}
